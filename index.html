<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mickey May's Whiskey Dance-Off</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- styles omitted for brevity, but the full file is ready to copy -->
</head>
<body>
<!-- Game code here (see previous messages for full file) -->
</body>
</html>
    // --- Event Listeners ---
    danceButton.addEventListener('click', () => {
        isDancing = !isDancing;
        if (isDancing) {
            danceButton.textContent = "Stop Dancing";
            danceAnimationFrame = 0;
        } else {
            danceButton.textContent = "Dance";
        }
    });

    messageBoxButton.addEventListener('click', hideMessage);
    
    // Touch and click listeners for mobile controls
    moveLeftButton.addEventListener('mousedown', () => man.dx = -man.speed);
    moveLeftButton.addEventListener('mouseup', () => man.dx = 0);
    moveLeftButton.addEventListener('touchstart', (e) => {
        e.preventDefault();
        man.dx = -man.speed;
    });
    moveLeftButton.addEventListener('touchend', () => man.dx = 0);

    moveRightButton.addEventListener('mousedown', () => man.dx = man.speed);
    moveRightButton.addEventListener('mouseup', () => man.dx = 0);
    moveRightButton.addEventListener('touchstart', (e) => {
        e.preventDefault();
        man.dx = man.speed;
    });
    moveRightButton.addEventListener('touchend', () => man.dx = 0);

    // Initial setup
    function init() {
        console.log("Game successfully loaded and running.");
        whiskeyIntervalId = setInterval(spawnWhiskey, whiskeySpawnInterval);
        gameLoop();
    }
    init();
</script>

</body>
</html>
